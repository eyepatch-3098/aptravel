{% extends 'base.html' %}

{% block title %}Raahi | Hotels{% endblock %}


{% block content %}



<div style="background-image: url('https://media.istockphoto.com/vectors/dark-blue-gradient-background-modern-look-vector-id1174818917?k=6&m=1174818917&s=170667a&w=0&h=_lsiNqZfUBgGOhvJnLl7t6MW7ZWx8YkGhsk7hftOiG4='); ; background-size: cover;">

  <!-- Mask & flexbox options-->
  <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

    <!-- Content -->
    <div class="text-center white-text mx-5 wow fadeIn">
      <h1 class="mb-4">
        <strong></strong>
      </h1>

      <p class="mb-4 d-none d-md-block">
        <strong>Browse Hotels</strong>
      </p>

    </div>
    <!-- Content -->

  </div>
  <!-- Mask & flexbox options-->

</div>
</div>
<!--/First slide-->


  <!--Main layout-->
  <main>

    <div class="container">
      
        <!--Insert form here-->
        

          <center><h4 style="margin-top: 2%;">Filter Hotels by your preferences:</h4></center>
          <form method="GET" action="." style="margin-top: 2%;">
            <div class="form-row">
                <div class="form-group col-12">
                    <div class="input-group">
                        <input class="form-control" type="search" name="hotelname" placeholder="Search for a Hotel by name" />
                       
                    </div>
                </div>        
            </div>
           
            <div class="form-row">
                <div class="form-group col-12">
                    <div class="input-group">
                        <input class="form-control autocomplete" id="form-autocomplete-1" type="search" name="cityname" placeholder="Browse by City" />
                        
                        </span>
                    </div>
                </div>        
            </div>
            <div class="form-row">
              <div class="form-group col-md-2 col-lg-2">
                <label for="viewCountMin">Minimum Price</label>
                <input type="number" min=0 class="form-control"  placeholder="₹" name="price_min">
              </div>
              <div class="form-group col-md-2 col-lg-2">
                <label for="viewCountMax">Maximum Price</label>
                <input type="number" min=0 class="form-control" placeholder="₹" name="price_max">
              </div>
              <div class="form-group col-md-2 col-lg-2">
                <label for="publishDateMin">Check In:</label>
                <input type="date" class="form-control" id="publishDateMin" name="price_minqq">
              </div>
              <div class="form-group col-md-2 col-lg-2">
                <label for="publishDateMax">Check Out:</label>
                <input type="date" class="form-control" id="publishDateMax" name="price_maxqq">
              </div>
              <div class="form-group col-md-4">
                <label for="category">Star Rating</label>
                <select id="category" class="form-control" name="category">
                  <option selected>Choose...</option>
                  {% for cat in categories %}
                  <option value="{{ cat }}">{{ cat }}</option>
                  {% endfor %}
                </select>
              </div>
            </div>
            <div class="form-group">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="reviewed" name="reviewed">
                <label class="form-check-label" for="reviewed">
                  Reviewed
                </label>
              </div>
            </div>
            <div class="form-group">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="notReviewed" name="notReviewed">
                <label class="form-check-label" for="notReviewed">
                  Not reviewed
                </label>
              </div>
            </div><center>
            <button type="submit" class="btn btn-light">Search</button></center>
          </form>

          <hr class="my-5">

          <section>
              {% for hotel in queryset %}

              

                <h3 class="h3 text-center mb-5">{{hotel.hotel_name}}, {{hotel.hotel_city}}</h3>
        
                <!--Grid row-->
                <div class="row wow fadeIn">
        
          
                  <!--/Grid column-->
        
                  <!--Grid column-->
              
        
                  <center>             
             
     
                        <img src="https://mdbootstrap.com/img/Marketing/mdb-press-pack/mdb-main.jpg" class="img-fluid mx-auto rounded d-block" style="max-width: 60%; height:auto" alt="">
                   
                          <p class="h5 text-center mt-4">₹{{hotel.hotel_price}}/night</p>
            </center>
         
                  <!--/Grid column-->
        
                </div>
                <!--/Grid row--><center>
                  <a style="color: inherit;" href='/hotel/{{hotel.pk}}'>
                    <button class="btn btn-primary btn-sm">View / Book</button>
                  </a>
                </button>
              </center>
              <hr class="my-5">
              {% empty %}
              <center><h5 style="margin-bottom:4%; ">Sorry! No hotels match those preferences.</h5></center>
              {% endfor %}
            </section>


    





        <script>

          
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function() {
          'use strict';
          window.addEventListener('load', function() {
            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.getElementsByClassName('needs-validation');
            // Loop over them and prevent submission
            var validation = Array.prototype.filter.call(forms, function(form) {
              form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            });
          }, false);
        })();
        </script>

    </div>



  </main>
  <!--Main layout-->

{% endblock content %}